/*
 * lab2 
 * package network
 * ShannonsModel.java
 */
package network;

import java.lang.Math;
import java.text.DecimalFormat;

/**
 * Class for encapuslate the date of shannons calculation
 * @author wang,Tao
 * @version 1.0
 */
public class ShannonsModel {
	/**
	 * private double B stand for bandwidth
	 * */
	private double bindWidth;
	/**
	 * private double SNR stand for Signal To Noise
	 * */
	private double signalToNoise;

	/**
	 * private decimalFormat df stand for the format of the double result
	 */   
	private  DecimalFormat df=new DecimalFormat("0.00");

	/**
	 * Method  getter of Bandwidth
	 * 
	 * @return Bandwidth
	 */
	public double getBandwidth() {
		return bindWidth;
	};

	/**
	 *Method to  get SignalToNoise
	 * 
	 * @return SignaltoNoise
	 */
	public double getSignalToNoise() {
		return signalToNoise;
	}

	/**
	 *Method to get maximum data rate
	 *@param hertz The Value of bandWidth 
	 *@param SNR The value of SNR
	 *@return Return the value of maximum data rate 
	 */

	private double getMaxinumDataRate(double hertz, double SNR) {
		//define a double variable of mdr
		double mdr=0;
		//computering a mdr
		mdr = hertz * (Math.log(1 + Math.pow(10,SNR/10)) / Math.log(2));
		//return mdr
		return mdr;
	}

	/**
	 * Method to getter of MDR
	 * 
	 * @return MaxinumDataRate
	 */
	public double getMaxinumDataRate() {
		//call overloading method
		return getMaxinumDataRate(bindWidth, signalToNoise);
	}

	

	// setters
	/**
	 * Method to set the Bandwidth
	 * 
	 * @param bindWidth The value of bindwidth
	 */
	public void setBindwidth(double bindWidth) {
		if(bindWidth<0)
			throw new NumberFormatException();
		//set the value of bindWidth
		this.bindWidth = bindWidth;
	}

	/**
	 * Method to set SignalToNoise
	 * 
	 * @param signalToNoise value of signalToNoise
	 */
	public void setSignalToNoise(double signalToNoise) {
		//set the value of SNR
		if(signalToNoise>100 || signalToNoise<-100)
			throw new NumberFormatException();
		this.signalToNoise = signalToNoise;
	}


	/**
	 *  constructor of ShannonsModel
	 */
	public ShannonsModel() {
	}


	/**
	 * return the result of string format of maximum data rate
	 * 
	 * @return result String of result
	 */
	@Override
	public String toString() {
		//return a value of the max data rate
		return "The result of Max Data Rate is " + df.format(getMaxinumDataRate());
	}
}
